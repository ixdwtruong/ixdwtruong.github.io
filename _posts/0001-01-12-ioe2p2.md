---
layout: post
title: Interactive Objects & Environments 2 - Project 2
permalink: /ioe2p2/
---

<br>

![image](/images/light1.png)

<br>

## Partner

* Alexandria Legere

<br>

-----

<br>

## Overview/Design Statement

<br>

Using Project 1 as a foundation, we took the concept of an online/offline friend system and extended it further. The original hardware included Neopixel LEDs to show the friend or family that is online to use an OLED screen. This significantly reduced the size, which was the original goal from Project 1. By making the interaction even more meaningful and making it familiar like a phone notification, we think that it’ll provide another level of communication in our concept.

<br>

## Design Concept

<br>

<b>Use Case Explanation</b>

We named the device “Light” since the device “lights” up when someone is online. The concept is to let the user know that a friend or family member is online so that they can chat or interact with them. With the pandemic today, it’s getting difficult to find out if a friend or family member just simply wants to socialize and chat. By providing two methods of interactions, hardware, and software, it provides communication on both levels to let the user know that someone is available or even themselves.

<br>

![image](/images/usecasediagram.png)

<br>

The overall interaction is very simple as shown in the use case diagram. The user goes online or offline, then gets notified by both the web app and the device itself. This interaction is the same on the friend/family side.

<br>

## UX

The UX for Light has two different sides, one hardware, and the other software. On the hardware side, the interaction is using three physical hardware buttons on the side with the OLED screen. The OLED screen displays the notification, while the buttons allow the user to turn themselves online or offline.

<br>

![image](/images/diagram.png)

<br>

The device is very much modular and can be used in different ways, using attachments that can change the functionality of the device. Users can attach a watch strap, a keychain holder, or even a clip, to provide flexibility for what the user wants.

<br>

![image](/images/usecase_attachments.png)

<br>

<b>Storyboards</b>

![image](/images/s1.png)

<br>

![image](/images/s2.png)

<br>

![image](/images/s3.png)

<br>

On the software side, it is a very simple UI that uses bubbles as a form of interaction. The friend or family’s profile will be on the screen and to notify the user whether if someone is on, the friend or family member’s picture would have a coloured ring around them. This signifies that they are online and want to chat or socialize.

<br>

![image](/images/ioe2p26.png)

<br>

The user can also turn themselves on and off through the web app. The user is centered in the middle, while the friends/family is surrounding the user. The online/offline system is used for the user itself as well. We added more functionality like favourites and messaging. We wanted to keep it very simple because it can get very overwhelming if one person has a lot of family members or friends!

<br>

## System Map

<br>

![image](/images/systems map.png)

<br>

## Prototype/Demo (Presentation)

<br>

Hardware used:

- Arduino Feather HUZZAH ESP8266
- Adafruit FeatherWing OLED 128x32
- 3.7v 1200mAH LiPo Battery

<br>

![image](/images/lightfritizing.png)

<br>

<iframe width="560" height="315" src="https://www.youtube.com/embed/9qq-FREdjhw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<br>

## Process

<br>

When I first started with Project 2, I was thinking of ways that I could push our idea further. There was potential for the hardware side, so I had ideas of using small vibration motors (the ones in mobile phones) to vibrate when someone goes online. Although a simple innovation, I felt it didn’t push it enough. That was when I had the idea of using an OLED screen to show the notifications.

<br>

![image](/images/IMG_0300.jpg)

<br>

I got it successfully working with a tutorial: https://create.arduino.cc/projecthub/138689/pixel-art-on-oled-display-7f8697 and the Adafruit documentation on the OLED Featherwing: https://learn.adafruit.com/adafruit-oled-featherwing/usage. It was very interesting to use images to animate things on the OLED, even though they were very simple ones. I created the pixel art via a pixel art program called Aseprite and then converted it into a format called XBM (or X BitMap).

<br>

![image](/images/asp1.png)

<br>

It was very interesting because it was similar to what SVGs are. I’m able to open this format in a code editor and then use that binary information to produce an image.

<br> 

![image](/images/code1.png)

<br>

Using a few pieces of code and tinkering with the animations, the result is very nice!

<br>

<iframe width="560" height="315" src="https://www.youtube.com/embed/H_JuShH6dCg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<br>
 
Although, there was a challenge with using the hardware buttons since I wanted the user to use the buttons to turn themselves off or on. This posed a problem when integrating with Thinger, using the tutorials provided in class. The animations only animated for a brief second when using the buttons on P5, which didn’t work too well as I wanted the animation to continuously loop.

<br>

<iframe width="560" height="315" src="https://www.youtube.com/embed/bkoD3vTA7_A" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<br>
 
This was where Alex came in and re-did the code to use a switch case, which worked as exactly as I wanted to! It seems that using a switch case statement executes the animation code properly. Compared to when I did it, where I coded it in the void setup in the Thinger.io code.
 
 <br>
 
```
void setup() {
  Serial.begin(9600);

  pinMode(BUTTON_A, INPUT_PULLUP);
  pinMode(BUTTON_B, INPUT_PULLUP);

  thing.add_wifi(SSID, SSID_PASSWORD);

  u8g2.begin();
  drawLogo();
  
  tick.start(FPS, AsyncDelay::MILLIS);

  thing["led1"] << [](pson & in) {

//    slimeon();
  animation_type=0;
  
  };

  thing["led2"] << [](pson & in) {

//    slimeoff();
  animation_type=1;
  
  };

   thing["led3"] << [](pson & in) {

//    slimefriend();
  animation_type=2;
  
  };
  
}

void loop() {

  thing.handle();
  
  if (tick.isExpired()) {
  switch (animation_type) {
      case 0:
        slimemod();
        break;
      case 1:
        slimeoff();
        break;
      case 2:
        slimefriend();
        break;
    }
    tick.repeat();
  }
}
```

<br>
 
The overall challenge of this project was the integration with Thinger, we weren’t successful in doing so due to how Thinger communicates with the Arduino. With how we wanted to do it was to get buckets of data compared to streams of data from Thinger. This was very much complicated and with our current technical knowledge, we weren't able to work it out properly. This made us change to Adafruit IO, as we used something similar to Project 1, using feeds and modifying the data to "fake" the functionality of who is online/offline.

<br>

## Conclusion and Learnings

<br>

This project or exploration was pushing the hardware side further and creating that meaningful interaction. Using an OLED to display information rather than LEDs, creates familiarity towards the user as it's like a smartwatch or notifications from a mobile phone. I think the most challenging aspect of the project was the coding and IoT aspects of the project. Integrating and using Thinger was very interesting but at the same time, documentation was lacking and there was so much we could do to get it working. Overall, I feel that this was an exploration of various IoT platforms and how they are very different from each other.

<br>


